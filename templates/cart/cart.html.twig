{% extends 'base.html.twig' %}

{% block title %}Mon panier{% endblock %}

{% block body %}
<main>
        <div class="d-lg-flex justify-content-between">
                <section class="mes-produits">
                        <h1 class="mb-3 fw-bold fs-2">Mes articles</h1>
                        {% for product in products %}
                                {% include 'partials/product.html.twig' %}
                        {% endfor %}
                        
                        <div class="shadow p-3 mb-5 bg-body rounded">
                                <p class="mb-1">
                                        <img src="{{ asset('build/images/check.svg') }}" alt="Icône check" class="payments-img">
                                        Livraison en France métropolitaine dès <span class="text-green fw-bold">7,48 € HT</span>
                                </p>
                                <p class="mb-1">
                                        <img src="{{ asset('build/images/check.svg') }}" alt="Icône check" class="payments-img">
                                        Livraison <span class="text-green fw-bold">gratuite</span> à partir de <span class="text-green fw-bold">200 € HT</span> d'achats
                                </p>
                                <p>
                                        <img src="{{ asset('build/images/check.svg') }}" alt="Icône check" class="payments-img">
                                        Délai de livraison : entre <span class="text-green fw-bold">3 à 5 jours ouvrés</span>
                                </p>
                                <p>
                                        <img src="{{ asset('build/images/check.svg') }}" alt="Icône check" class="payments-img">
                                        Paiement CB ou virement <span class="text-green fw-bold me-4">100% sécurisé</span>
                                        <img src="{{ asset('build/images/payments/logo_white_carte_bleue.jpg') }}" alt="Image carte bleue" class="payments-img">
                                        <img src="{{ asset('build/images/payments/logo_white_visa.jpg') }}" alt="Image carte visa" class="payments-img">
                                        <img src="{{ asset('build/images/payments/logo_white_paypal.jpg') }}" alt="Logo Paypal" class="payments-img">
                                        <img src="{{ asset('build/images/payments/logo_white_mandat.jpg') }}" alt="Logo République Française" class="payments-img">
                                        <img src="{{ asset('build/images/payments/logo_white_bank_transfer_fr.jpg') }}" alt="Image virement bancaire" class="payments-img">
                                        <img src="{{ asset('build/images/payments/logo_white_installment_3_fr.jpg') }}" alt="Image paiement en trois fois" class="payments-img">
                                        
                                        
                                </p>
                        </div>
                        {% include 'partials/infos.html.twig' %}
                </section>
                
                <aside class="recap">
                        <h1 class="mb-3 fw-bold fs-2">Récapitulatif</h1>
                        <div class="shadow p-3 mb-5 bg-body rounded">
                                <p class="mb-0">Un code promo ?</p>

                                <form action="{{ path('index') }}" class="d-sm-flex justify-content-between">
                                        <input type="text" id="codepromo" name="codepromo" value="Ex: FARMITOO25" class="form-control rounded-pill p-3 input-code-promo"><br>
                                        <input type="hidden" id="minAmount" name="minAmount" value="{{ promotion.minAmount }}">
                                        <input type="hidden" id="reduction" name="reduction" value="{{ promotion.reduction }}">
                                        <input type="hidden" id="freeDelivery" name="freeDelivery" value="{{ promotion.freeDelivery }}">
                                        <input type="submit" id="valider" value="Valider" class="btn border-step-cart back-dark-green text-white rounded-pill px-4 py-2 input-valid fw-bold">
                                </form> 
                                <div class="d-flex border-top mt-3 pt-3 justify-content-between">
                                        <p>Sous total HT</p>
                                        <p><span id="sous-total-HT"></span> €</p>
                                </div> 
                                <div class="d-flex border-top pt-3 justify-content-between">
                                        <p>Frais de port HT <img src="{{ asset('build/images/info.svg') }}" alt="Icône info" class="info-icone mb-1"></p>
                                        <p><span id="delivery-HT"></span> €</p>
                                </div> 
                                <div class="d-flex border-top pt-3 justify-content-between">
                                        <p class="mb-1">Total HT</p>
                                        <p class="mb-1"><span id="total-HT"></span> €</p>
                                </div>
                                <div class="d-flex justify-content-between">
                                        <p class="mb-1">TVA</p>
                                        <p class="mb-1"><span id="totalTVA"><span> €</p>
                                </div> 
                                <div class="d-flex justify-content-between fs-5 fw-bold">
                                        <p>Total TTC</p>
                                        <p><span id="total-TTC"></span> €</p>
                                </div> 
                                
                                <a href="{{ path('order')}}" class="text-center btn border-step-cart back-green text-white fw-bold mb-3 p-3 d-block">Finaliser ma commande</a>
                                <a href="#" class="text-center btn border-step-cart border-green fw-bold p-3 d-block">Continuer mes achats</a>
                        </div>
                </aside>
        </div>
</main>

{% endblock %}